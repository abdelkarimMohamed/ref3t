<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Voice Message</title>
    <link rel="stylesheet" href="/profile-styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-home">ğŸ™ï¸ Voice Message</div>
        <div class="nav-right">
            <a href="/login.html" class="nav-link">Login</a>
            <a href="/signup.html" class="nav-link btn-signup">Sign Up</a>
        </div>
    </nav>

    <!-- Profile Container -->
    <div class="profile-container">
        <div class="profile-card">
            <!-- User Profile Header -->
            <div class="profile-header" id="profileHeader">
                <div class="profile-avatar">ğŸ­</div>
                <h1 class="profile-name" id="profileName">Loading...</h1>
                <p class="profile-bio" id="profileBio"></p>
                <p class="profile-instruction">Send an anonymous voice message to this person</p>
            </div>

            <!-- Voice Recording Section -->
            <div class="recording-section">
                <h2>ğŸ¤ Record Your Message</h2>
                <p class="recording-hint">Your identity will be kept anonymous</p>

                <button class="record-btn" id="recordBtn"></button>
                <div class="recording-status" id="recordingStatus"></div>

                <!-- Original Audio Preview -->
                <div class="audio-preview" id="audioPreview">
                    <p class="audio-label">ğŸ“¼ Your Recording:</p>
                    <audio controls id="recordedAudio"></audio>
                </div>

                <!-- Voice Transformation Controls -->
                <div class="voice-transform-section" id="voiceTransformSection">
                    <h3>ğŸ­ Anonymize Your Voice</h3>
                    <p class="transform-description">Choose a voice transformation to protect your identity</p>

                    <div class="voice-presets">
                        <button class="preset-btn active" data-preset="original">
                            <span class="preset-icon">ğŸ¤</span>
                            <span class="preset-name">Original</span>
                        </button>
                        <button class="preset-btn" data-preset="deep-male">
                            <span class="preset-icon">ğŸ‘¨</span>
                            <span class="preset-name">Deep Male</span>
                        </button>
                        <button class="preset-btn" data-preset="male">
                            <span class="preset-icon">ğŸ§‘</span>
                            <span class="preset-name">Male</span>
                        </button>
                        <button class="preset-btn" data-preset="female">
                            <span class="preset-icon">ğŸ‘©</span>
                            <span class="preset-name">Female</span>
                        </button>
                        <button class="preset-btn" data-preset="high-female">
                            <span class="preset-icon">ğŸ‘§</span>
                            <span class="preset-name">High Female</span>
                        </button>
                        <button class="preset-btn" data-preset="robotic">
                            <span class="preset-icon">ğŸ¤–</span>
                            <span class="preset-name">Robotic</span>
                        </button>
                    </div>

                    <div class="transform-controls">
                        <div class="control-group">
                            <label for="pitchSlider">Pitch Shift</label>
                            <input type="range" id="pitchSlider" min="-12" max="12" value="0" step="0.5">
                            <span id="pitchValue">0</span>
                        </div>
                        <div class="control-group">
                            <label for="speedSlider">Speed</label>
                            <input type="range" id="speedSlider" min="0.7" max="1.3" value="1" step="0.05">
                            <span id="speedValue">1.0x</span>
                        </div>
                    </div>

                    <div class="transform-actions">
                        <button class="btn btn-preview" id="previewTransformBtn">ğŸ§ Preview</button>
                    </div>
                </div>

                <!-- Transformed Audio Preview -->
                <div class="audio-preview" id="transformedAudioContainer" style="display: none;">
                    <p class="audio-label" style="color: #667eea;">ğŸ­ Transformed Voice:</p>
                    <audio controls id="transformedAudio"></audio>
                </div>

                <!-- Send Button -->
                <button class="btn btn-send" id="sendBtn">
                    ğŸ“¤ Send Anonymous Message
                </button>
            </div>

            <!-- Success Message -->
            <div class="success-message" id="successMessage" style="display: none;">
                <div class="success-icon">âœ…</div>
                <h2>Message Sent Successfully!</h2>
                <p>Your anonymous voice message has been delivered.</p>
                <button class="btn btn-another" id="anotherBtn">Send Another Message</button>
            </div>
        </div>
    </div>

    <script src="/profile-script.js"></script>
</body>
</html>
